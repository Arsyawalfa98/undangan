<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Improved font preloading with crossorigin attribute -->
    <link
      rel="preload"
      href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Montserrat:wght@400;500;600;700&display=swap"
      as="style"
      crossorigin="anonymous"
      onload="this.onload=null;this.rel='stylesheet'"
    />
    <noscript>
      <link
        rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Montserrat:wght@400;500;600;700&display=swap"
      />
    </noscript>
    <title>Undangan Pernikahan</title>
    <style>
      /* Optimasi untuk kinerja touch dan ukuran teks di mobile */
      html {
        touch-action: manipulation;
        -webkit-text-size-adjust: 100%;
        scroll-behavior: smooth;
      }

      /* Pengurangan animasi untuk perangkat dengan reduce-motion */
      @media (prefers-reduced-motion: reduce) {
        * {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
          scroll-behavior: auto !important;
        }
      }

      /* Reset dan base style */
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body,
      html {
        height: 100%;
        background: black;
        color: white;
        font-family: "Montserrat", -apple-system, BlinkMacSystemFont, "Segoe UI",
          Roboto, Arial, sans-serif;
        font-weight: 500;
        overflow-x: hidden;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        overscroll-behavior: contain;
      }

      /* Konsistensi font sambung untuk semua heading dan nama */
      h1,
      h2,
      h3,
      #slide1 .name-text,
      #slide1 .name-and,
      #slide2 h3 {
        font-family: "Great Vibes", cursive !important;
        margin-top: 0;
        margin-bottom: 0.5em;
        user-select: none;
        text-shadow: 0 2px 6px rgba(0, 0, 0, 0.9),
          0 0 10px rgba(255, 255, 255, 0.2);
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        will-change: transform, text-shadow;
      }

      h1:hover,
      h2:hover,
      h3:hover {
        text-shadow: 0 3px 10px rgba(255, 255, 255, 0.5),
          0 0 20px rgba(255, 255, 255, 0.6);
        transform: scale(1.03);
      }

      /* Landing Page */
      #landing-page {
        height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        padding: 0 1rem;
        background: linear-gradient(135deg, #222222, #111111);
        background-attachment: fixed;
        position: relative;
        overflow: hidden;
        z-index: 10;
      }

      /* Landing page animation elements */
      .flower-petal {
        position: absolute;
        width: 25px;
        height: 25px;
        background-size: contain;
        background-repeat: no-repeat;
        opacity: 0;
        pointer-events: none;
        z-index: 10;
        filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.5));
        will-change: transform, opacity;
      }

      #landing-page h1 {
        font-size: clamp(2.6rem, 8vw, 4.5rem);
        margin-bottom: 1.2rem;
        letter-spacing: 0.05em;
        transform: translateY(20px);
        opacity: 0;
        animation: fadeInUp 1.2s forwards 0.3s;
      }

      #landing-page button {
        cursor: pointer;
        background-color: rgba(255, 255, 255, 0.15);
        border: 2px solid white;
        color: white;
        font-size: clamp(1rem, 3vw, 1.4rem);
        padding: 0.85rem 2.5rem;
        border-radius: 40px;
        letter-spacing: 0.05em;
        font-weight: 600;
        box-shadow: 0 0 8px rgba(255, 255, 255, 0.7);
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        transform: translateY(20px);
        opacity: 0;
        animation: fadeInUp 1.2s forwards 0.8s;
        will-change: transform, opacity, background-color, box-shadow;
      }

      #landing-page button:hover,
      #landing-page button:focus {
        background-color: white;
        color: black;
        box-shadow: 0 0 20px rgba(255, 255, 255, 1);
        transform: translateY(-3px) scale(1.05);
        outline: none;
      }

      #landing-page button:active {
        transform: translateY(0) scale(0.98);
      }

      #guest-name {
        margin-top: 1.2rem;
        font-size: 20px;
        font-style: italic;
        user-select: text;
        letter-spacing: 0.03em;
        opacity: 0;
        transform: translateY(20px);
        animation: fadeInUp 1.2s forwards 1.3s;
        transition: all 0.4s ease;
        display: block !important;
      }

      .guest-name-text {
        margin-top: 1rem;
        font-size: 70px;
        font-family: 'Great Vibes', cursive;
        font-weight: normal;
        display: block;
        text-align: center;
        color: white;
      }

      #guest-name:hover {
        letter-spacing: 0.045em;
      }

      /* Animation keyframes */
      @keyframes fadeInUp {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes floatPetal {
        0% {
          transform: translate(0, 0) rotate(0deg);
          opacity: 0;
        }
        10% {
          opacity: 0.8;
        }
        100% {
          transform: translate(var(--translateX), var(--translateY))
            rotate(var(--rotate));
          opacity: 0;
        }
      }

      /* Slider container */
      #slider {
        position: relative;
        width: 100vw;
        height: 100vh;
        overflow: hidden;
        display: none;
        font-weight: normal;
        background-attachment: fixed;
      }

      /* Each slide */
      .slide {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-size: cover;
        background-position: center center;
        transition: transform 1.25s cubic-bezier(0.645, 0.045, 0.355, 1),
          opacity 1.25s cubic-bezier(0.645, 0.045, 0.355, 1) !important;
        opacity: 0;
        transform: scale(1.08);
        pointer-events: none;
        display: flex;
        justify-content: center;
        align-items: center;
        color: white;
        user-select: none;
        padding: 2rem;
        flex-direction: column;
        will-change: transform, opacity;
      }

      .slide.active {
        opacity: 1;
        transform: scale(1);
        pointer-events: auto;
      }

      .slide.prev {
        transform: scale(0.92) translateX(-5%);
      }

      .slide.next {
        transform: scale(0.92) translateX(5%);
      }

      /* Slide 1 Overlay */
      #slide1 .overlay {
        position: absolute;
        inset: 0;
        background: transparent;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: center;
        padding: 2rem;
        padding-top: 4rem;
        opacity: 0;
        transition: all 1.25s cubic-bezier(0.34, 1.56, 0.64, 1);
        pointer-events: none;
        backdrop-filter: brightness(0.6);
        will-change: opacity, background-color;
      }

      #slide1.overlay-visible .overlay {
        background-color: rgba(0, 0, 0, 0.2);
        opacity: 1;
        pointer-events: auto;
      }

      /* Nama dan Lingkaran bunga dalam 1 container */
      #slide1 .center-container {
        position: relative;
        width: min(260px, 70vw);
        height: min(310px, 80vw);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        margin-bottom: min(8rem, 20vh);
      }

      #slide1 .gif {
        position: absolute;
        width: min(350px, 65vw);
        height: min(350px, 65vw);
        object-fit: contain;
        user-select: none;
        filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.85));
        border-radius: 50%;
        z-index: 1;
        opacity: 0;
        transform: scale(0.8);
        transition: all 0.75s cubic-bezier(0.34, 1.56, 0.64, 1);
        top: 0;
        will-change: transform, opacity;
      }

      #slide1.overlay-visible .gif {
        opacity: 1;
        transform: scale(1);
      }

      #slide1 .names-container {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        width: 100%;
        text-align: center;
        z-index: 5;
        opacity: 0;
        transition: all 0.75s cubic-bezier(0.34, 1.56, 0.64, 1);
        transition-delay: 0.5s;
        will-change: opacity;
      }

      #slide1.overlay-visible .names-container {
        opacity: 1;
      }

      #slide1 .name-text {
        font-size: clamp(1.7rem, 6vw, 2.5rem);
        letter-spacing: 0.08em;
        text-shadow: 0 0 10px rgba(0, 0, 0, 0.5),
          0 0 15px rgba(255, 255, 255, 1), 0 0 20px rgba(255, 255, 255, 0.8);
        line-height: 1.1;
        margin: 0;
        padding: 0;
        transition: all 0.4s ease;
        will-change: transform, text-shadow;
      }

      #slide1 .name-text:hover {
        text-shadow: 0 0 20px rgba(255, 255, 255, 1),
          0 0 30px rgba(255, 255, 255, 0.9);
        transform: scale(1.05);
      }

      #slide1 .name-and {
        font-size: clamp(1.5rem, 5vw, 2.2rem);
        margin: 0.1rem 0;
        text-shadow: 0 0 10px rgba(0, 0, 0, 0.5),
          0 0 15px rgba(255, 255, 255, 1), 0 0 20px rgba(255, 255, 255, 0.8);
      }

      /* Ucapan dengan styling yang lebih natural - posisi bawah */
      #slide1 p {
        font-size: clamp(0.8rem, 3vw, 1.2rem);
        max-width: min(400px, 90vw);
        margin-top: auto;
        margin-bottom: min(3rem, 10vh);
        line-height: 1.6;
        font-style: italic;
        opacity: 0;
        transform: translateY(20px);
        transition: all 0.75s cubic-bezier(0.34, 1.56, 0.64, 1);
        transition-delay: 0.8s;
        letter-spacing: 0.04em;
        text-align: center;
        font-weight: 300;
        color: rgba(255, 255, 255, 0.95);
        text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
        will-change: transform, opacity;
      }

      #slide1.overlay-visible p {
        opacity: 1;
        transform: translateY(0);
      }

      /* Slide 2 Overlay - Mempelai */
      #slide2 .main-container {
        position: absolute;
        inset: 0;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: min(2rem, 5vw) min(4rem, 8vw);
        pointer-events: none;
        user-select: text;
      }

      /* Overlay panel untuk sisi kiri dan kanan */
      #slide2 .panel-left,
      #slide2 .panel-right {
        position: absolute;
        top: 0;
        bottom: 0;
        width: 0;
        background-color: rgba(0, 0, 0, 0.7);
        backdrop-filter: blur(3px);
        transition: all 1.2s cubic-bezier(0.34, 1.56, 0.64, 1);
        overflow: hidden;
        display: flex;
        justify-content: center;
        align-items: center;
        will-change: width;
      }

      #slide2 .panel-left {
        left: 0;
        border-top-right-radius: 5px;
        border-bottom-right-radius: 5px;
      }

      #slide2 .panel-right {
        right: 0;
        border-top-left-radius: 5px;
        border-bottom-left-radius: 5px;
      }

      /* Animasi panel muncul bertahap */
      #slide2.left-panel-visible .panel-left,
      #slide2.right-panel-visible .panel-right {
        width: 50%;
      }

      /* Garis pemisah di tengah */
      #slide2 .center-divider {
        position: absolute;
        top: 15%;
        left: 50%;
        transform: translateX(-50%) scaleY(0);
        width: 1px;
        height: 80%;
        background: linear-gradient(
          to bottom,
          transparent,
          rgba(255, 255, 255, 0.4) 10%,
          rgba(255, 255, 255, 0.9) 50%,
          rgba(255, 255, 255, 0.4) 90%,
          transparent
        );
        opacity: 0;
        transition: transform 1.5s cubic-bezier(0.19, 1, 0.22, 1),
          opacity 1.5s cubic-bezier(0.19, 1, 0.22, 1);
        box-shadow: 0 0 8px rgba(255, 255, 255, 0.7);
        z-index: 10;
        will-change: transform, opacity;
      }

      /* Animasi garis pemisah */
      #slide2.center-divider-visible .center-divider {
        transform: translateX(-50%) scaleY(1);
        opacity: 1;
      }

      /* Konten informasi mempelai */
      /* Pembaruan CSS untuk slide 2 - Mempelai */
      #slide2 .info-container {
        position: relative;
        width: min(320px, 90vw);
        max-width: 90%;
        padding: min(2rem, 5vw);
        opacity: 0;
        transform: scale(0.9);
        transition: all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
        transition-delay: 0.4s;
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        will-change: transform, opacity;
      }

      /* Animasi konten */
      #slide2.left-content-visible .left .info-container,
      #slide2.right-content-visible .right .info-container {
        opacity: 1;
        transform: scale(1);
      }

      /* Heading dan konten */
      #slide2 h3 {
        font-size: clamp(1.3rem, 5vw, 2.2rem); /* Ukuran font responsif */
        margin-bottom: 1.5rem;
        letter-spacing: 0.05em;
        text-shadow: 0 0 15px rgba(255, 255, 255, 1),
          0 0 25px rgba(255, 255, 255, 0.7);
        text-align: center;
        opacity: 0;
        transform: translateY(-20px);
        transition-delay: 0.2s;
        transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        will-change: transform, opacity;
        width: 100%;
      }
      /* Container untuk informasi orang tua */
      #slide2 .parents-info {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 0.5rem; /* Jarak antar paragraf */
        margin-top: 1rem;
        width: 100%;
      }

      /* Label "Putra/Putri dari" */
      #slide2 .parent-label {
        font-size: clamp(0.8rem, 2.5vw, 1rem);
        font-weight: 600;
        margin-bottom: 0.5rem;
      }

      /* Nama orang tua */
      #slide2 .parent-name {
        font-size: clamp(0.8rem, 2.5vw, 1rem);
        margin: 0.1rem 0;
        font-weight: 500;
      }
      #slide2.left-content-visible .left h3,
      #slide2.right-content-visible .right h3 {
        opacity: 1;
        transform: translateY(0);
      }

      #slide2 .info-text {
        width: 100%;
        opacity: 0;
        transform: translateY(10px);
        transition: all 0.5s ease;
        will-change: transform, opacity;
      }

      #slide2.left-content-visible .left .info-text,
      #slide2.right-content-visible .right .info-text {
        opacity: 1;
        transform: translateY(0);
      }

      #slide2 .left .info-text:nth-child(2) {
        transition-delay: 0.5s;
      }
      #slide2 .left .info-text:nth-child(3) {
        transition-delay: 0.7s;
      }
      #slide2 .left .info-text:nth-child(4) {
        transition-delay: 0.9s;
      }
      #slide2 .right .info-text:nth-child(2) {
        transition-delay: 0.5s;
      }
      #slide2 .right .info-text:nth-child(3) {
        transition-delay: 0.7s;
      }
      #slide2 .right .info-text:nth-child(4) {
        transition-delay: 0.9s;
      }

      #slide2 p {
        margin: 12px 0;
        letter-spacing: 0.02em;
        position: relative;
        padding-left: 0;
        transition: all 0.3s ease;
        font-weight: 600;
        font-size: clamp(0.7rem, 2.5vw, 1.05rem);
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.7);
        will-change: padding-left, text-shadow;
      }

      #slide2 p:hover {
        padding-left: 8px;
        text-shadow: 0 1px 5px rgba(255, 255, 255, 0.4);
      }

      #slide2 p:after {
        content: "";
        position: absolute;
        bottom: -3px;
        left: 0;
        width: 0;
        height: 1px;
        background: rgba(255, 255, 255, 0.7);
        transition: width 0.4s ease;
        will-change: width;
      }

      #slide2 p:hover:after {
        width: 100%;
      }

      /* Slide 3 Overlay - Acara - CSS yang diperbarui */
      #slide3 .overlay {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        height: 35%; /* Kurangi tinggi untuk menampilkan lebih banyak foto (desktop) */
        background: linear-gradient(
          to top,
          rgba(0, 0, 0, 0.9) 0%,
          rgba(0, 0, 0, 0.7) 40%,
          rgba(0, 0, 0, 0.4) 70%,
          rgba(0, 0, 0, 0) 100%
        );
        color: white;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: center;
        padding: 1.2rem 2rem;
        text-align: center;
        user-select: none;
        backdrop-filter: blur(4px);
        transition: opacity 0.6s ease, transform 0.6s ease;
        transform: translateY(20px);
        opacity: 0;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
      }

      #slide3.active .overlay {
        transform: translateY(0);
        opacity: 1;
      }

      /* Judul utama "Rangkaian Acara" */
      #slide3 h3 {
        font-size: clamp(1.3rem, 7vw, 2.5rem);
        margin-top: 0;
        margin-bottom: 0.4em;
        letter-spacing: 0.05em;
        text-shadow: 0 0 10px rgba(0, 0, 0, 0.8),
          0 0 15px rgba(255, 255, 255, 0.5);
        position: relative;
      }

      /* Garis di bawah judul utama */
      #slide3 h3:after {
        content: "";
        position: absolute;
        bottom: -6px;
        left: 15%;
        width: 70%;
        height: 1px;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.8),
          transparent
        );
        box-shadow: 0 0 8px rgba(255, 255, 255, 0.6);
      }

      /* Container untuk akad dan resepsi */
      #slide3 .events-container {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        width: 100%;
        margin-top: 0.6rem;
        gap: 0.3rem;
      }

      /* Styling untuk setiap bagian acara */
      #slide3 .event-section {
        width: 100%;
        margin: 0.2rem 0;
        opacity: 0;
        transform: translateY(15px);
        transition: all 0.5s ease;
      }

      #slide3.active .event-section {
        opacity: 1;
        transform: translateY(0);
      }

      #slide3.active .event-section:nth-child(1) {
        transition-delay: 0.3s;
      }

      #slide3.active .event-section:nth-child(3) {
        transition-delay: 0.6s;
      }

      #slide3.active .event-section:nth-child(4) {
        transition-delay: 0.8s;
      }

      /* Judul acara (Akad Nikah dan Resepsi) */
      #slide3 .event-title {
        font-family: "Great Vibes", cursive !important;
        font-size: clamp(1.2rem, 5vw, 1.8rem);
        margin: 0.2em 0;
        letter-spacing: 0.03em;
        text-shadow: 0 0 10px rgba(0, 0, 0, 0.8),
          0 0 12px rgba(255, 255, 255, 0.4);
      }

      /* Paragraf informasi */
      #slide3 .event-section p {
        margin: 0.2em 0;
        font-weight: 500;
        font-size: clamp(0.75rem, 2.3vw, 0.9rem);
        text-shadow: 0 1px 3px rgba(0, 0, 0, 0.8);
        line-height: 1.3;
        opacity: 0;
        transform: translateY(10px);
        transition: all 0.4s ease;
      }

      #slide3.active .event-section p {
        opacity: 1;
        transform: translateY(0);
      }

      #slide3.active .event-section:nth-child(1) p:nth-child(2) {
        transition-delay: 0.4s;
      }

      #slide3.active .event-section:nth-child(1) p:nth-child(3) {
        transition-delay: 0.5s;
      }

      #slide3.active .event-section:nth-child(3) p:nth-child(2) {
        transition-delay: 0.7s;
      }

      #slide3.active .event-section:nth-child(3) p:nth-child(3) {
        transition-delay: 0.8s;
      }

      #slide3.active .event-section:nth-child(4) p {
        transition-delay: 0.9s;
      }

      /* Garis pemisah antara Akad dan Resepsi */
      #slide3 .event-divider {
        width: 50%;
        height: 1px;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.8),
          transparent
        );
        margin: 0.3rem 0;
        box-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
        opacity: 0;
        transform: scaleX(0.7);
        transition: all 0.5s ease;
      }

      #slide3.active .event-divider {
        opacity: 1;
        transform: scaleX(1);
        transition-delay: 0.5s;
      }

      /* Media query untuk mobile */
      @media screen and (max-width: 768px) {
        #slide3 .overlay {
          height: 45%; /* Kurangi tinggi untuk tablet */
          padding: 1rem 0.8rem;
        }

        #slide3 .events-container {
          margin-top: 0.4rem;
        }
      }

      /* Slide 4 Overlay - Lokasi */
      #slide4 .overlay {
        position: absolute;
        inset: 0;
        background: transparent;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: center;
        padding: 2rem;
        opacity: 0;
        transition: all 1.2s cubic-bezier(0.34, 1.56, 0.64, 1);
        pointer-events: none;
        user-select: none;
        backdrop-filter: brightness(0.6);
        will-change: opacity, background-color;
      }

      /* Container untuk konten lokasi */
      #slide4 .location-content {
        position: relative;
        display: flex;
        flex-direction: column;
        align-items: center;
        /* Atur posisi vertikal dengan margin-top */
        margin-top: 30vh; /* Sesuaikan nilai ini */
        /* Animasi untuk konten */
        opacity: 0;
        transform: translateY(20px);
        transition: all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
        transition-delay: 0.3s;
      }

      /* Animasi saat overlay visible */
      #slide4.overlay-visible .location-content {
        opacity: 1;
        transform: translateY(0);
      }

      #slide4.overlay-visible .overlay {
        background-color: rgba(0, 0, 0, 0.28);
        opacity: 1;
        pointer-events: auto;
      }

      #slide4 h3 {
        font-size: clamp(1.7rem, 8vw, 3.5rem);
        margin-bottom: 2rem;
        letter-spacing: 0.05em;
        text-shadow: 0 0 14px rgba(255, 255, 255, 0.9);
        transform: translateY(-20px);
        opacity: 0;
        transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
        will-change: transform, opacity;
      }

      #slide4.overlay-visible h3 {
        transform: translateY(0);
        opacity: 1;
      }

      #slide4 button {
        cursor: pointer;
        background-color: rgba(255, 255, 255, 0.15);
        border: 3px solid white;
        color: white;
        font-size: clamp(0.9rem, 3vw, 1.4rem);
        padding: min(1rem, 4vw) min(3rem, 8vw);
        border-radius: 40px;
        letter-spacing: 0.04em;
        font-weight: 600;
        box-shadow: 0 0 16px rgba(255, 255, 255, 0.85);
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        user-select: none;
        outline-offset: 3px;
        transform: translateY(20px);
        opacity: 0;
        will-change: transform, opacity, background-color, box-shadow;
      }

      #slide4.overlay-visible button {
        transform: translateY(0);
        opacity: 1;
        transition-delay: 0.3s;
      }

      #slide4 button:hover,
      #slide4 button:focus {
        background-color: white;
        color: black;
        box-shadow: 0 0 25px rgba(255, 255, 255, 1);
        transform: translateY(-3px) scale(1.05);
        outline: none;
      }

      #slide4 button:active {
        transform: translateY(0) scale(0.98);
      }

      /* Navigation buttons */
      .nav-button {
        position: fixed;
        top: 50%;
        transform: translateY(-50%);
        background-color: transparent;
        border: none;
        color: rgba(255, 255, 255, 0.8);
        font-size: clamp(1.8rem, 5vw, 2.8rem);
        font-weight: bold;
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        z-index: 1100;
        user-select: none;
        transition: all 0.25s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        text-shadow: 0 0 15px rgba(0, 0, 0, 0.7),
          0 0 5px rgba(255, 255, 255, 0.5);
        outline-offset: 5px;
        opacity: 0.7;
        will-change: transform, color, text-shadow, opacity;
        -webkit-tap-highlight-color: transparent;
      }

      .nav-button:hover,
      .nav-button:focus {
        color: rgba(255, 255, 255, 1);
        outline: none;
        transform: translateY(-50%) scale(1.15);
        text-shadow: 0 0 20px rgba(255, 255, 255, 0.7);
        opacity: 0.95;
      }

      .nav-button:active {
        transform: translateY(-50%) scale(0.95);
      }

      #prev {
        left: 15px;
      }
      #next {
        right: 15px;
      }

      /* Music control button */
      #music-control {
        position: fixed;
        bottom: 1.3rem;
        right: 1.3rem;
        background-color: rgba(255, 255, 255, 0.15);
        border: 1px solid rgba(255, 255, 255, 0.4);
        color: white;
        font-size: 1.8rem;
        padding: 0.6rem;
        width: 42px;
        height: 42px;
        border-radius: 50%;
        z-index: 1200;
        cursor: pointer;
        user-select: none;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        outline-offset: 3px;
        opacity: 0.6;
        -webkit-tap-highlight-color: transparent;
        will-change: transform, background-color, box-shadow, opacity;
      }

      #music-control:hover,
      #music-control:focus {
        background-color: rgba(255, 255, 255, 0.85);
        color: black;
        outline: none;
        transform: scale(1.1);
        box-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
        opacity: 0.9;
      }

      #music-control:active {
        transform: scale(0.95);
      }

      #music-control svg {
        fill: currentColor;
        width: 24px;
        height: 24px;
        transition: transform 0.3s ease;
      }

      /* Animation for sound icon */
      .sound-wave {
        position: absolute;
        border: 2px solid rgba(255, 255, 255, 0.6);
        border-radius: 50%;
        opacity: 0;
        pointer-events: none;
      }

      #music-control[aria-pressed="true"] .sound-wave {
        animation: sound-wave 2s linear infinite;
      }

      @keyframes sound-wave {
        0% {
          width: 0px;
          height: 0px;
          opacity: 0.7;
        }
        100% {
          width: 100px;
          height: 100px;
          opacity: 0;
        }
      }

      /* Animasi fadeIn/fadeOut dengan hardware acceleration */
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes fadeOut {
        from {
          opacity: 1;
        }
        to {
          opacity: 0;
        }
      }

      /* Sentuhan untuk perangkat layar sentuh */
      @media (hover: none) {
        #slide1 .name-text:hover,
        #slide1 .name-and:hover,
        #slide2 p:hover,
        h1:hover,
        h2:hover,
        h3:hover {
          transform: none;
          text-shadow: none;
        }

        #slide2 p:hover {
          padding-left: 0;
        }

        #slide2 p:hover:after {
          width: 0;
        }
      }

      /* RESPONSIVE STYLES */
      /* Tablet & Smaller Desktops */
      @media screen and (max-width: 768px) {
        /* Landing page */
        #landing-page button {
          padding: 0.7rem 2.2rem;
        }

        /* Slide 1 - Sambutan */
        #slide1 .overlay {
          padding-top: min(4rem, 10vh);
        }

        /* Slide 2 - Mempelai */
        #slide2 .info-container {
          padding: 1rem 0.5rem;
        }

        #slide2 h3 {
          margin-bottom: 1rem;
        }
        #slide2 .parents-info {
          margin-top: 0.5rem;
        }

        #slide3 .overlay {
          height: 60%; /* Tinggi lebih besar untuk tablet */
          padding: 1.2rem 1rem;
        }
        #slide3 h3 {
          margin-bottom: 0.5em;
        }

        #slide3 .events-container {
          margin-top: 0.5rem;
          gap: 0.8rem;
        }

        #slide3 .event-section {
          margin: 0.3rem 0;
        }

        #slide3 .event-title {
          font-size: clamp(1.2rem, 5vw, 2rem);
          margin: 0.3em 0;
        }

        #slide3 .event-section p {
          margin: 0.3em 0;
          font-size: clamp(0.75rem, 2.3vw, 0.95rem);
        }

        #slide3 .event-divider {
          width: 60%;
          margin: 0.5rem 0;
        }

        /* Navigasi */
        #prev {
          left: 10px;
        }
        #next {
          right: 10px;
        }
      }

      /* Mobile Devices */
      @media screen and (max-width: 480px) {
        /* Base slide */
        .slide {
          padding: 1rem;
        }

        #slide1 .names-container {
          position: absolute;
          top: 40%;
          left: 50%;
          transform: translate(-50%, -50%);
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          width: 100%;
          text-align: center;
          z-index: 5;
          opacity: 0;
          transition: all 0.75s cubic-bezier(0.34, 1.56, 0.64, 1);
          transition-delay: 0.5s;
          will-change: opacity;
        }

        /* Landing page */
        #landing-page h1 {
          margin-bottom: 1rem;
        }

        #landing-page button {
          padding: 0.6rem 1.8rem;
        }

        /* Slide 1 - Sambutan */
        #slide1 .center-container {
          margin-bottom: min(3rem, 15vh);
        }

        /* Slide 2 - Mempelai */
        #slide2.left-panel-visible .panel-left,
        #slide2.right-panel-visible .panel-right {
          width: 50%; /* Panel penuh di layar kecil */
          z-index: 5; /* Pastikan panel terlihat dengan benar */
        }

        /* Slide 3 - Rangkaian Acara */
        #slide3 .overlay {
          height: 50%; /* Kurangi tinggi untuk mobile */
          padding: 0.8rem 0.6rem;
        }

        #slide3 h3 {
          margin-bottom: 0.3em;
          font-size: clamp(1.2rem, 6vw, 2rem);
        }

        #slide3 .events-container {
          margin-top: 0.3rem;
          gap: 0.2rem;
        }

        #slide3 .event-section {
          margin: 0.1rem 0;
        }

        #slide3 .event-title {
          font-size: clamp(1.1rem, 4.5vw, 1.5rem);
          margin: 0.1em 0;
        }

        #slide3 .event-section p {
          margin: 0.1em 0;
        }
        /* Slide 4 - Lokasi */
        #slide4 h3 {
          margin-bottom: 1.2rem;
        }

        /* Navigasi */
        #music-control {
          bottom: 1rem;
          right: 1rem;
          width: 36px;
          height: 36px;
          padding: 0.4rem;
        }
      }

      /* Small Mobile Devices */
      @media screen and (max-width: 360px) {
        /* Landing page */
        #landing-page button {
          padding: 0.5rem 1.5rem;
        }

        /* Slide 2 - Mempelai */
        #slide2 .center-divider {
          height: 70%;
        }
        #slide2 h3 {
          font-size: clamp(1rem, 4vw, 1.8rem);
          margin-bottom: 0.8rem;
        }
        #slide2 .parent-label,
        #slide2 .parent-name {
          font-size: clamp(0.7rem, 2.2vw, 0.9rem);
        }
        /* Slide 3 - Rangkaian Acara */
        #slide3 .overlay {
          height: 55%; /* Tinggi untuk layar sangat kecil */
          padding-top: 0.6rem;
        }

        #slide3 h3 {
          font-size: clamp(1.1rem, 5.5vw, 1.4rem);
          margin-bottom: 0.2em;
        }

        #slide3 .event-title {
          font-size: clamp(1rem, 4vw, 1.2rem);
        }

        #slide3 .event-section p {
          font-size: clamp(0.65rem, 2vw, 0.8rem);
          line-height: 1.2;
        }
      }

      /* Landscape Mode pada Mobile */
      @media screen and (max-height: 480px) and (orientation: landscape) {
        #slide1 .center-container {
          margin-bottom: 0.5rem;
        }

        #slide2 .panel-left,
        #slide2 .panel-right {
          top: 5%;
          bottom: 5%;
        }

        #slide3 .overlay {
          height: 65%; /* Kurangi tinggi untuk landscape */
          padding: 0.7rem 0.8rem;
        }

        #slide3 h3 {
          font-size: clamp(1rem, 4.5vw, 1.4rem);
          margin-bottom: 0.1em;
        }

        #slide3 .events-container {
          margin-top: 0.1rem;
          flex-direction: row;
          justify-content: center;
          align-items: flex-start;
          gap: 0.5rem;
        }

        #slide3 .event-section {
          width: 45%;
          margin: 0;
        }

        #slide3 .event-divider {
          width: 1px;
          height: 60px;
          margin: 0;
          background: linear-gradient(
            to bottom,
            transparent,
            rgba(255, 255, 255, 0.8),
            transparent
          );
        }

        #slide3 .event-title {
          font-size: clamp(0.9rem, 3vw, 1.2rem);
          margin: 0.1em 0;
        }

        #slide3 .event-section p {
          font-size: clamp(0.65rem, 1.8vw, 0.75rem);
          margin: 0.1em 0;
        }

        #slide4 h3 {
          margin-bottom: 0.8rem;
        }
        #slide2 .info-container {
          padding: 0.5rem;
        }

        #slide2 h3 {
          margin-bottom: 0.5rem;
        }

        #slide2 .parents-info {
          gap: 0.2rem;
        }
      }

      /* Safari Browser Fixes */
      @supports (-webkit-touch-callout: none) {
        .slide {
          transition: transform 1s ease-out, opacity 1s ease-out !important;
        }

        #slide2 p:after {
          transform: translateZ(0);
        }
      }
    </style>
  </head>
  <body>
    <!-- Landing Page -->
    <div id="landing-page">
      <h1>Undangan Pernikahan</h1>
      <button id="open-invitation">Buka Undangan</button>
      <br>
      <span id="guest-name">Kepada <br />Yth: Bapak/Ibu/Saudara/i</span>
    </div>

    <!-- Slider -->
    <div id="slider">
      <!-- Slide 1: Sambutan -->
      <div id="slide1" class="slide">
        <div class="overlay">
          <div class="center-container">
            <img src="tempat_nama.gif" alt="" class="gif" />
            <div class="names-container">
              <div class="name-text">Imam</div>
              <div class="name-and">&</div>
              <div class="name-text">Zahra</div>
            </div>
          </div>
          <p>
            Dengan memohon Rahmat dan Ridho Allah SWT, kami mengundang
            Bapak/Ibu/Saudara/i untuk menghadiri pernikahan kami
          </p>
        </div>
      </div>

      <!-- Slide 2: Mempelai -->
      <!-- Slide 2: Mempelai dengan layout yang diperbarui -->
      <div id="slide2" class="slide">
        <div class="main-container">
          <div class="panel-left left">
            <div class="info-container">
              <h3>Muhammad Imam Arsyawalfa</h3>
              <div class="parents-info">
                <br />
                <br />
                <p class="info-text parent-label">Putra dari</p>
                <p class="info-text parent-name">Bpk Aria Damarwulan</p>
                <p class="info-text parent-name">Ibu Umi Farida</p>
              </div>
            </div>
          </div>
          <div class="center-divider"></div>
          <div class="panel-right right">
            <div class="info-container">
              <h3>Zahratul Aini Kurniati Fitri</h3>
              <div class="parents-info">
                <br />
                <br />
                <p class="info-text parent-label">Putri dari</p>
                <p class="info-text parent-name">Bpk H. M. Sulhan Hadi</p>
                <p class="info-text parent-name">Ibu Salmah (Alm)</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Slide 3: Acara -->
      <div id="slide3" class="slide">
        <div class="overlay">
          <h3>Rangkaian Acara</h3>
          <div class="events-container">
            <div class="event-section">
              <h4 class="event-title">Akad Nikah</h4>
              <p>Sabtu, 24 Mei 2025</p>
              <p>08:30 WITA</p>
            </div>
            <div class="event-divider"></div>
            <div class="event-section">
              <h4 class="event-title">Resepsi</h4>
              <p>Sabtu, 24 Mei 2025</p>
              <p>11:00 - 13:00 WITA</p>
            </div>
            <div class="event-section">
              <p>
                Lokasi Sepadia Hotel and Convention<br />Jalan Majapahit Mataram
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Slide 4: Lokasi -->
      <div id="slide4" class="slide">
        <div class="overlay">
          <!-- Tambahkan container baru di sini -->
          <div class="location-content">
            <h3>Lokasi</h3>
            <button id="maps-link">Lihat Peta</button>
          </div>
        </div>
      </div>

      <!-- Navigation Buttons -->
      <button id="prev" class="nav-button" aria-label="Previous slide">
        ❮
      </button>
      <button id="next" class="nav-button" aria-label="Next slide">❯</button>

      <!-- Music Control -->
      <button id="music-control" aria-label="Play music" aria-pressed="false">
        <div class="sound-wave"></div>
        <svg viewBox="0 0 24 24">
          <path
            d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"
          ></path>
        </svg>
      </button>

      <!-- Audio Player (hidden) -->
      <audio id="background-music" loop preload="none">
        <source src="backgroundsound.mp3" type="audio/mpeg" />
      </audio>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Elements
        const landingPage = document.getElementById("landing-page");
        const slider = document.getElementById("slider");
        const openButton = document.getElementById("open-invitation");
        const slides = document.querySelectorAll(".slide");
        const prevButton = document.getElementById("prev");
        const nextButton = document.getElementById("next");
        const musicControl = document.getElementById("music-control");
        const music = document.getElementById("background-music");
        const mapsButton = document.getElementById("maps-link");

        // State variables
        let currentSlide = 0;
        let isTransitioning = false;
        let touchStartX = 0;
        let touchEndX = 0;

        // Set background images for slides - better in JS for performance
        const slideBackgrounds = [
          "background_0.jpg",
          "background_1.jpeg",
          "background_2_ganti.JPG",
          "background_3_ganti.JPG",
        ];

        // Apply backgrounds to slides
        slides.forEach((slide, index) => {
          if (slideBackgrounds[index]) {
            slide.style.backgroundImage = `url(${slideBackgrounds[index]})`;
          }
        });

        // Flower petals animation for landing page
        function createFlowerPetals(count = 12) {
          const colors = [
            "#ffb3ba",
            "#ffdfba",
            "#ffffba",
            "#baffc9",
            "#bae1ff",
          ];
          const container = landingPage;

          for (let i = 0; i < count; i++) {
            const petal = document.createElement("div");
            petal.className = "flower-petal";

            // Randomize petal appearance and animation
            const randomColor =
              colors[Math.floor(Math.random() * colors.length)];
            petal.style.backgroundColor = randomColor;
            petal.style.left = `${Math.random() * 100}%`;
            petal.style.top = `${Math.random() * 50 + 20}%`;
            petal.style.borderRadius = `${Math.random() * 40 + 30}%`;

            // CSS variables for animation
            petal.style.setProperty(
              "--translateX",
              `${Math.random() * 200 - 100}px`
            );
            petal.style.setProperty(
              "--translateY",
              `${Math.random() * 100 + 50}px`
            );
            petal.style.setProperty("--rotate", `${Math.random() * 360}deg`);

            // Add and animate petal
            container.appendChild(petal);

            // Trigger animation with delay
            setTimeout(() => {
              petal.style.animation = `floatPetal ${
                Math.random() * 3 + 4
              }s ease-in-out forwards`;

              // Remove petal after animation
              petal.addEventListener("animationend", () => {
                petal.remove();

                // Create new petal to replace if landing page is still visible
                if (landingPage.style.display !== "none") {
                  createFlowerPetals(1);
                }
              });
            }, Math.random() * 2000);
          }
        }

        // Start flower petals animation
        createFlowerPetals();

        // Modifikasi open invitation button click
        openButton.addEventListener("click", function () {
          // Fade out landing page
          landingPage.style.animation = "fadeOut 0.7s forwards";

          // After fade out, show slider
          setTimeout(() => {
            landingPage.style.display = "none";
            slider.style.display = "block";

            // Initialize first slide
            showSlide(0);

            // Play music automatically
            const playPromise = music.play();
            if (playPromise !== undefined) {
              playPromise
                .then(() => {
                  musicControl.setAttribute("aria-pressed", "true");
                })
                .catch((e) => {
                  console.log("Autoplay prevented:", e);
                  musicControl.setAttribute("aria-pressed", "false");
                });
            }

            // Add a little delay before animations
            setTimeout(() => {
              // Slide 1 animations
              if (slides[0].classList.contains("active")) {
                slides[0].classList.add("overlay-visible");
              }
            }, 500);
          }, 700);
        });

        // Tambahkan variabel dan fungsi untuk autoslide
        let autoSlideInterval;
        let autoSlideEnabled = true; // Default enabled

        // Fungsi untuk memulai autoSlide
        function startAutoSlide() {
          if (autoSlideEnabled) {
            clearInterval(autoSlideInterval); // Pastikan tidak ada interval ganda
            autoSlideInterval = setInterval(() => {
              if (!isTransitioning && slider.style.display === "block") {
                showSlide(currentSlide + 1);
              }
            }, 5000); // Slide berganti setiap 5 detik
          }
        }

        // Fungsi untuk menghentikan autoSlide
        function stopAutoSlide() {
          clearInterval(autoSlideInterval);
        }

        // Show specific slide
        function showSlide(index) {
          if (isTransitioning) return;
          isTransitioning = true;

          // Hentikan autoSlide selama transisi
          stopAutoSlide();

          // Bounds check
          if (index < 0) index = slides.length - 1;
          if (index >= slides.length) index = 0;

          // Remove active class from all slides
          slides.forEach((slide) => {
            slide.classList.remove("active", "prev", "next");

            // Reset slide-specific animations
            if (slide.id === "slide1")
              slide.classList.remove("overlay-visible");
            if (slide.id === "slide2") {
              slide.classList.remove(
                "left-panel-visible",
                "right-panel-visible",
                "center-divider-visible",
                "left-content-visible",
                "right-content-visible"
              );
            }
            if (slide.id === "slide4")
              slide.classList.remove("overlay-visible");
          });

          // Set previous, current, and next slides
          const prevIndex = index - 1 < 0 ? slides.length - 1 : index - 1;
          const nextIndex = index + 1 >= slides.length ? 0 : index + 1;

          slides[prevIndex].classList.add("prev");
          slides[index].classList.add("active");
          slides[nextIndex].classList.add("next");

          // Wait for transition
          setTimeout(() => {
            isTransitioning = false;

            // Trigger slide-specific animations
            handleSlideAnimations(index);

            // Restart auto slide after transition complete
            startAutoSlide();
          }, 1000);

          currentSlide = index;
        }

        // Handle slide-specific animations
        function handleSlideAnimations(index) {
          const slide = slides[index];

          switch (slide.id) {
            case "slide1":
              slide.classList.add("overlay-visible");
              break;

            case "slide2":
              // Sequential animations
              slide.classList.add("left-panel-visible");

              setTimeout(() => {
                slide.classList.add("right-panel-visible");

                setTimeout(() => {
                  slide.classList.add("center-divider-visible");

                  setTimeout(() => {
                    slide.classList.add("left-content-visible");

                    setTimeout(() => {
                      slide.classList.add("right-content-visible");
                    }, 200);
                  }, 400);
                }, 400);
              }, 200);
              break;

            case "slide4":
              slide.classList.add("overlay-visible");
              break;
          }
        }

        // Modifikasi event listeners untuk tombol prev/next
        prevButton.addEventListener("click", () => {
          showSlide(currentSlide - 1);
          // Optional: disable autoslide when user interacts
          // autoSlideEnabled = false;
        });

        nextButton.addEventListener("click", () => {
          showSlide(currentSlide + 1);
          // Optional: disable autoslide when user interacts
          // autoSlideEnabled = false;
        });

        // Music control
        musicControl.addEventListener("click", () => {
          if (music.paused) {
            const playPromise = music.play();

            if (playPromise !== undefined) {
              playPromise
                .then(() => {
                  musicControl.setAttribute("aria-pressed", "true");
                })
                .catch((e) => {
                  console.log("Autoplay prevented:", e);
                  // Fall back for browsers that block autoplay
                  musicControl.setAttribute("aria-pressed", "false");

                  // Show a message to user that they need to interact first
                  const musicMessage = document.createElement("div");
                  musicMessage.style.position = "fixed";
                  musicMessage.style.bottom = "4rem";
                  musicMessage.style.right = "1rem";
                  musicMessage.style.background = "rgba(0,0,0,0.7)";
                  musicMessage.style.color = "white";
                  musicMessage.style.padding = "0.5rem 1rem";
                  musicMessage.style.borderRadius = "4px";
                  musicMessage.style.fontSize = "0.8rem";
                  musicMessage.style.zIndex = "1300";
                  musicMessage.textContent =
                    "Klik sekali lagi untuk memainkan musik";
                  document.body.appendChild(musicMessage);

                  setTimeout(() => {
                    musicMessage.remove();
                  }, 3000);
                });
            }
          } else {
            music.pause();
            musicControl.setAttribute("aria-pressed", "false");
          }
        });

        // Maps button
        mapsButton.addEventListener("click", () => {
          // Replace with your actual Google Maps URL
          const mapsUrl = "https://maps.app.goo.gl/ZeSJz8KTfvWjvE6m6";
          window.open(mapsUrl, "_blank");
        });

        // Keyboard navigation
        document.addEventListener("keydown", (e) => {
          if (slider.style.display === "block") {
            if (e.key === "ArrowLeft") {
              showSlide(currentSlide - 1);
            } else if (e.key === "ArrowRight") {
              showSlide(currentSlide + 1);
            }
          }
        });

        // Touch navigation
        slider.addEventListener(
          "touchstart",
          (e) => {
            touchStartX = e.changedTouches[0].screenX;
          },
          { passive: true }
        );

        // Modifikasi touchend handler
        slider.addEventListener(
          "touchend",
          (e) => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
            // Optional: disable autoslide when user interacts
            // autoSlideEnabled = false;
          },
          { passive: true }
        );

        // Modifikasi handler orientationchange
        window.addEventListener("orientationchange", () => {
          // Allow time for the orientation change to complete
          setTimeout(() => {
            // Ensure the current slide is properly displayed
            const activeSlide = document.querySelector(".slide.active");
            if (activeSlide) {
              handleSlideAnimations(currentSlide);
            }
            // Restart autoslide
            startAutoSlide();
          }, 300);
        });

        function handleSwipe() {
          const threshold = 50; // Minimum distance for swipe

          if (touchEndX - touchStartX > threshold) {
            // Swipe right -> previous slide
            showSlide(currentSlide - 1);
          } else if (touchStartX - touchEndX > threshold) {
            // Swipe left -> next slide
            showSlide(currentSlide + 1);
          }
        }

        // Preload images for better performance
        function preloadImages() {
          const imageUrls = [
            "path_to_your_flower_border.png",
            ...slideBackgrounds,
          ].filter((url) => url); // Filter out any empty URLs

          imageUrls.forEach((url) => {
            const img = new Image();
            img.src = url;
          });
        }

        preloadImages();

        // Lazy load the audio file after page load
        window.addEventListener("load", () => {
          setTimeout(() => {
            music.load();
          }, 1000);
        });

        // Modifikasi visibilitychange handler
        document.addEventListener("visibilitychange", () => {
          if (document.hidden) {
            // Tab tidak terlihat
            if (!music.paused) {
              music.pause();
            }
            // Hentikan autoslide saat tab tidak terlihat
            stopAutoSlide();
          } else {
            // Tab terlihat kembali
            if (musicControl.getAttribute("aria-pressed") === "true") {
              music
                .play()
                .catch((e) =>
                  console.log("Autoplay prevented on visibility change:", e)
                );
            }
            // Mulai kembali autoslide saat tab terlihat
            startAutoSlide();
          }
        });

        // Performance optimization for mobile
        if ("ontouchstart" in window) {
          // Reduce animation complexity on mobile
          document.body.classList.add("touch-device");

          // Ensure smooth scrolling
          document.body.style.overscrollBehavior = "contain";
        }

        // Prevent context menu on long press (mobile)
        document.addEventListener("contextmenu", (e) => {
          e.preventDefault();
          return false;
        });

        // Handle orientation change
        window.addEventListener("orientationchange", () => {
          // Allow time for the orientation change to complete
          setTimeout(() => {
            // Ensure the current slide is properly displayed
            const activeSlide = document.querySelector(".slide.active");
            if (activeSlide) {
              handleSlideAnimations(currentSlide);
            }
          }, 300);
        });

        // Handle browser back button
        window.addEventListener("popstate", function (e) {
          if (slider.style.display === "block") {
            slider.style.display = "none";
            landingPage.style.display = "flex";
            landingPage.style.animation = "fadeIn 0.7s forwards";

            // Re-create flower petals
            createFlowerPetals();

            // Push a new state to prevent immediate back action
            history.pushState(null, document.title, window.location.href);
          } else {
            // Allow actual navigation away from page
            history.back();
          }
        });

        // Push initial state
        history.pushState(null, document.title, window.location.href);
      });
      // Ambil parameter dari URL
      const urlParams = new URLSearchParams(window.location.search);
      const guestName = urlParams.get("name");

      if (guestName) {
        const guestSpan = document.getElementById("guest-name");
        const nameElement = document.createElement("div");
        nameElement.className = "guest-name-text";
        nameElement.textContent = decodeURIComponent(guestName);
        guestSpan.appendChild(nameElement);
      }
    </script>
  </body>
</html>
